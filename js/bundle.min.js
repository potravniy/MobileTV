!function e(t,n,i){function o(l,c){if(!n[l]){if(!t[l]){var d="function"==typeof require&&require;if(!c&&d)return d(l,!0);if(r)return r(l,!0);var s=new Error("Cannot find module '"+l+"'");throw s.code="MODULE_NOT_FOUND",s}var a=n[l]={exports:{}};t[l][0].call(a.exports,function(e){var n=t[l][1][e];return o(n?n:e)},a,a.exports,e,t,n,i)}return n[l].exports}for(var r="function"==typeof require&&require,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,t,n){"use strict";t.exports=function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||window.viewerState.is_iPad_iPhone_inFullScreen)}},{}],2:[function(e,t,n){"use strict";function i(e){console.log(e),3>s&&d.send()}function o(){a=JSON.parse(this.responseText);for(var e=0;e<a.length;e++)"banner"===a[e].name?c.textContent=a[e].text:(u="ch_"+a[e].name,window.viewerState.chList[u]={},window.viewerState.chList[u].lq=a[e].lq,window.viewerState.chList[u].hq=a[e].hq,v=document.createElement("input"),v.type="radio",v.setAttribute("id",u),v.setAttribute("name","ch-selector"),l.appendChild(v),h=document.createElement("label"),h.setAttribute("class","sidebar__slider__button "+u),h.setAttribute("for",u),l.appendChild(h),w.innerHTML+=".sidebar__slider__button."+u+" {background-position: "+a[e].icon_x_position_bw+"em "+a[e].icon_y_position+"em, left;}\n",w.innerHTML+="#"+u+":checked + label.sidebar__slider__button {background-position: "+a[e].icon_x_position_color+"em "+a[e].icon_y_position+"em, left;}\n");document.getElementsByTagName("head")[0].appendChild(w),r.style.visibility=""}var r=window.viewerState.$sideMenuBox,l=window.viewerState.$slider,c=document.querySelector(".footer__center__banner"),d=new XMLHttpRequest,s=0,a=[],u="",w=document.createElement("style"),v=null,h=null;w.type="text/css",window.viewerState.chList={},d.addEventListener("load",o),d.addEventListener("error",i),d.addEventListener("abort",i),d.open("GET","./channels.json"),d.send()},{}],3:[function(e,t,n){"use strict";t.exports=function(){var e=window.viewerState.$box;return!!(e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen)}()},{}],4:[function(e,t,n){"use strict";t.exports=function(){return!!(window.viewerState.is_iPad_iPhone&&window.innerHeight>=window.screen.availHeight)}()},{}],5:[function(e,t,n){"use strict";function i(){l.paused?(l.play(),r()):(l.pause(),o())}function o(){v.add(s,"active"),v.add(a,"active"),v.remove(u,"active"),v.remove(w,"active")}function r(){v.add(u,"active"),v.add(w,"active"),v.remove(s,"active"),v.remove(a,"active")}var l=window.viewerState.$video,c=window.viewerState.$btnPlayFooter,d=window.viewerState.$btnPlayCtrl,s=document.querySelector(".footer .btn_play__icon_play"),a=document.querySelector(".control .btn_play__icon_play"),u=document.querySelector(".footer .btn_play__icon_pause"),w=document.querySelector(".control .btn_play__icon_pause"),v=window.viewerState.classList;c.addEventListener("click",i),d.addEventListener("click",i),l.addEventListener("click",function(e){e.preventDefault()})},{}],6:[function(e,t,n){"use strict";function i(){var e=window.viewerState.active$input.getAttribute("id");window.viewerState.highQuality?(window.viewerState.highQuality=!1,u=window.viewerState.chList[e].lq):(window.viewerState.highQuality=!0,u=window.viewerState.chList[e].hq),window.hls?(window.hls.destroy(),window.hls=new window.Hls,window.hls.attachMedia(window.viewerState.$video),window.hls.on(window.Hls.Events.MEDIA_ATTACHED,function(){console.log("video and window.hls.js are now bound together !"),window.hls.loadSource(u),window.hls.on(window.Hls.Events.MANIFEST_PARSED,function(e,t){for(var n=0;n<window.hls.levels.length;n++)console.log(n+"	bitrate:"+window.hls.levels[n].bitrate+"	h:"+window.hls.levels[n].height+"	w:"+window.hls.levels[n].width+"\n")})})):(c.setAttribute("src",u),d.setAttribute("src",u)),c.play(),o()}function o(){window.viewerState.highQuality?a.remove(l,"disabled"):a.add(l,"disabled")}var r=window.viewerState.$btnQuality,l=document.querySelector(".btn_quality__icon"),c=window.viewerState.$video,d=window.viewerState.$source,s=window.viewerState.$btnMenuOff,a=window.viewerState.classList,u="";r.addEventListener("click",i),document.addEventListener("fullscreenchange",o),document.addEventListener("webkitfullscreenchange",o),document.addEventListener("mozfullscreenchange",o),document.addEventListener("MSFullscreenChange",o),s.addEventListener("click",o)},{}],7:[function(e,t,n){"use strict";function i(){setTimeout(o,300)}function o(){console.log("$box.clientWidth: "+a.clientWidth+"\n$video.videoHeight: "+u.videoHeight+"\n$video.videoWidth: "+u.videoWidth),u.style.width=a.clientWidth+"px",u.style.height=a.clientWidth*u.videoHeight/u.videoWidth+"px",b=!0,console.log("screen: "+a.clientWidth+"x"+a.clientHeight+"\nvideo: "+a.clientWidth+"x"+a.clientWidth*u.videoHeight/u.videoWidth+"\n")}function r(){u.style.width=a.clientHeight*u.videoWidth/u.videoHeight+"px",u.style.height=a.clientHeight+"px",b=!1,console.log("screen: "+a.clientWidth+"x"+a.clientHeight+"\nvideo: "+a.clientHeight*u.videoWidth/u.videoHeight+"x"+a.clientHeight+"\n")}function l(){window.viewerState.ask$boxInFullScreen()?c():d(),setTimeout(o,300)}function c(){setTimeout(function(){a.clientWidth!==u.offsetWidth||a.clientHeight!==u.offsetHeight?(w.addEventListener("click",s),S.remove(v,"disabled")):S.add(v,"disabled")},300)}function d(){w.removeEventListener("click",s),S.add(v,"disabled"),setTimeout(o,300)}function s(){b?r():o()}var a=window.viewerState.$box,u=window.viewerState.$video,w=window.viewerState.$btnScale,v=document.querySelector(".scale_box__btn_icon"),h=(document.querySelector(".scale_box__subbtns"),window.viewerState.$subBtnUp,window.viewerState.$subBtnDown,document.querySelector(".subbtn_up"),document.querySelector(".subbtn_down"),window.viewerState.$btnMenuOff),m=window.viewerState.$btnMenuOn,S=window.viewerState.classList,b=!1;S.add(v,"disabled"),u.addEventListener("playing",i),h.addEventListener("click",c),m.addEventListener("click",d),document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l)},{}],8:[function(e,t,n){"use strict";function i(){o.muted?(o.muted=!1,o.volume=1,u.add(c,"active"),u.add(d,"active"),u.remove(s,"active"),u.remove(a,"active")):(o.volume=0,o.muted=!0,u.remove(c,"active"),u.remove(d,"active"),u.add(s,"active"),u.add(a,"active"))}var o=window.viewerState.$video,r=window.viewerState.$btnVolumeFooter,l=window.viewerState.$btnVolumeCtrl,c=document.querySelector(".footer .btn_volume__icon_on"),d=document.querySelector(".control .btn_volume__icon_on"),s=document.querySelector(".footer .btn_volume__icon_off"),a=document.querySelector(".control .btn_volume__icon_off"),u=window.viewerState.classList;r.style.display="inline-block",l.style.display="inline-block",r.addEventListener("click",i),l.addEventListener("click",i)},{}],9:[function(e,t,n){"use strict";function i(e){switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:alert("Воспроизведение видео прервано.");break;case e.target.error.MEDIA_ERR_NETWORK:alert("Ошибка сети привела к нарушению загрузки видео");break;case e.target.error.MEDIA_ERR_DECODE:alert("Воспроизведение видео прекращено из-за искажений при передаче или потому, что видео использует недоступные в Вашем браузере функции.");break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:window.Hls&&window.Hls.isSupported()?alert("Видео не может быть загружено из-за сбоя в в доступе к серверу или этот видеоформат не поддерживается Вашим браузером."):o();break;default:alert("Произошла ошибка. Попробуйте еще.")}}function o(){c.removeEventListener("error",i);var e=document.createElement("script");e.type="text/javascript",e.readyState?e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,r())}:e.onload=function(){console.log("hls loaded "+Date.now()),r()},e.src="./js/hls.min.js",document.getElementsByTagName("head")[0].appendChild(e)}function r(){c.setAttribute("src",""),d.setAttribute("src",""),l(),c.play?c.play():alert("video cannot play"),window.hls.on(window.Hls.Events.ERROR,function(e,t){if(t.fatal)switch(t.type){case window.Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover"),window.hls.startLoad();break;case window.Hls.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover"),window.hls.recoverMediaError();break;default:window.hls.destroy()}})}function l(){window.hls&&window.hls.destroy(),window.hls=new window.Hls,window.hls.attachMedia(window.viewerState.$video),window.hls.on(window.Hls.Events.MEDIA_ATTACHED,function(){window.hls.loadSource(w),window.hls.on(window.Hls.Events.MANIFEST_PARSED,function(e,t){for(var n=0;n<window.hls.levels.length;n++)console.log(n+"	bitrate:"+window.hls.levels[n].bitrate+"	h:"+window.hls.levels[n].height+"	w:"+window.hls.levels[n].width+"\n")})})}var c=window.viewerState.$video,d=window.viewerState.$source,s=window.viewerState.$slider,a=window.viewerState.$box,u=window.viewerState.classList,w="";window.Hls=null,window.hls=null,s.addEventListener("click",function(e){var t="";"INPUT"===e.target.tagName&&(window.viewerState.active$input===e.target?(window.viewerState.active$input.checked=!1,window.viewerState.active$input=null,window.Hls&&window.Hls.isSupported()?window.hls.destroy():(c.removeAttribute("src"),d.removeAttribute("src")),u.remove(c,"active"),u.remove(a,"show_footer"),c.removeEventListener("error",i),c.load()):(window.viewerState.active$input=e.target,t=e.target.getAttribute("id"),w=window.viewerState.chList[t].lq,window.viewerState.highQuality=!1,window.Hls&&window.Hls.isSupported()?l():(c.setAttribute("src",w),d.setAttribute("src",w)),u.add(c,"active"),c.addEventListener("error",i),c.play?c.play():alert("video cannot play"),u.add(a,"show_footer")))})},{}],10:[function(e,t,n){"use strict";t.exports={contains:function(e,t){if(e.classList)return e.classList.contains(t);for(var n=e.getAttribute("class").split(" "),i=0;i<n.length;i++)if(n[i]==t)return!0;return!1},add:function(e,t){return e.classList?void e.classList.add(t):void(window.viewerState.classList.contains(e,t)||e.setAttribute("class",e.getAttribute("class")+" "+t))},remove:function(e,t){if(e.classList)return void e.classList.remove(t);for(var n=e.getAttribute("class").split(" "),i="",o=0;o<n.length;o++)n[o]!=t&&(i+=n[o]+" ");e.setAttribute("class",i)}}},{}],11:[function(e,t,n){"use strict";function i(){window.viewerState.ask$boxInFullScreen()?(console.log("$body.clientHeight: "+S.clientHeight+"\nwindow.screen.availHeight: "+window.screen.availHeight+"\nwindow.outerHeight: "+window.outerHeight),S.clientHeight<window.screen.availHeight&&(S.style.height=window.screen.availHeight+"px",y=!0,console.log("$body.clientHeight: "+S.clientHeight+"\nwindow.screen.availHeight: "+window.screen.availHeight+"\nwindow.outerHeight: "+window.outerHeight)),l()):(y&&(S.style.height="",y=!1),c())}function o(){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()}function r(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}function l(e){f.add(a,"hide_menu"),a.addEventListener("click",d),m.addEventListener("click",s)}function c(e){clearTimeout(g),f.remove(m,"show_control"),m.removeEventListener("click",s),a.removeEventListener("click",d),f.remove(a,"hide_menu")}function d(e){e.stopPropagation(),a.removeEventListener("click",d),f.add(m,"show_control"),g=setTimeout(function(){f.remove(m,"show_control"),a.addEventListener("click",d)},_)}function s(e){e.stopPropagation(),clearTimeout(g),g=setTimeout(function(){f.remove(m,"show_control"),a.addEventListener("click",d)},_)}var a=window.viewerState.$box,u=window.viewerState.$btnFullScrOn,w=window.viewerState.$btnFullScrOff,v=window.viewerState.$btnMenuOff,h=window.viewerState.$btnMenuOn,a=window.viewerState.$box,m=window.viewerState.$control,S=document.querySelector("body"),b=document.querySelector(".btn__fullscr.on"),_=window.viewerState.durationCtrlVisible,f=window.viewerState.classList,y=!1,g=void 0;window.viewerState.isFullScreenAllowed?(v.style.display="none",h.style.display="none",u.addEventListener("click",o),w.addEventListener("click",r)):window.viewerState.is_iPad_iPhone&&!window.viewerState.is_iPad_iPhone_inFullScreen?(u.addEventListener("click",function(){alert('Чтобы обрести полноэкранный режим надо сделать всего несколько шагов:\nШаг 1. Нажмите на кнопку "Отправить" (выглядит как квадрат со стрелочкой вверх) справа вверху экрана и выберите пункт: На экран «Домой».\nШаг 2. Укажите желаемое название (например "Одесское ТВ") и нажмите "Добавить".\nПосле нажатия кнопки "Добавить" Вас перебросит на рабочий стол, где Вы сможете увидеть свежесозданную ссылку.\nЗайдя на сайт нажатием на эту ссылку Вы всегда будете смотреть ТВ в полноэкранном режиме.\nДля удаления ссылки нужно ее нажать и подержать, затем нажать появившийся крестик в левом верхнем углу.')}),f.add(b,"disabled"),w.style.display="none",v.addEventListener("click",l),h.addEventListener("click",c)):!window.viewerState.is_iPad_iPhone_inFullScreen&&window.viewerState.isFullScreenAllowed||(u.style.display="none",w.style.display="none",v.addEventListener("click",l),h.addEventListener("click",c)),document.addEventListener("fullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("MSFullscreenChange",i)},{}],12:[function(e,t,n){"use strict";window.onload=function(){window.viewerState={$box:document.querySelector(".box"),$video:document.querySelector(".video"),$source:document.querySelector(".source"),$sideMenuBox:document.querySelector(".sidebar"),$slider:document.querySelector(".sidebar__slider"),$footer:document.querySelector(".footer"),$control:document.querySelector(".control"),$btnPlayFooter:document.querySelector(".footer .btn_play"),$btnPlayCtrl:document.querySelector(".control .btn_play"),$btnVolumeFooter:document.querySelector(".footer .btn_volume"),$btnVolumeCtrl:document.querySelector(".control .btn_volume"),$btnQuality:document.querySelector(".btn_quality"),$btnScale:document.querySelector(".scale_box__btn"),$subBtnUp:document.querySelector(".scale_box__subbtn_up"),$subBtnDown:document.querySelector(".scale_box__subbtn_down"),$btnMenuOff:document.querySelector(".footer .btn__menu_switch"),$btnMenuOn:document.querySelector(".control .btn__menu_switch"),$btnFullScrOn:document.querySelector(".footer .btn__fullscr"),$btnFullScrOff:document.querySelector(".control .btn__fullscr"),active$input:null,isFullScreenAllowed:!1,is_iPad_iPhone:/(iPhone|iPod|iPad).*AppleWebKit/i.test(window.navigator.userAgent),is_iPad_iPhone_inFullScreen:!1,ask$boxInFullScreen:null,highQuality:!1,durationCtrlVisible:5e3,classList:{contains:null,add:null,remove:null}},e("./askChannelList.js"),window.viewerState.isFullScreenAllowed=e("./askFullScreen.js"),window.viewerState.is_iPad_iPhone_inFullScreen=e("./ask_iPad_iPhone_FullScreen.js"),window.viewerState.ask$boxInFullScreen=e("./ask$boxInFullScreen.js"),window.viewerState.classList=e("./classList.js"),e("./screenHeight.js"),e("./channelSelector.js"),e("./fullscreenOrHideMenu.js"),e("./buttonQuality.js"),e("./buttonScale.js"),e("./buttonPlayPause.js"),window.viewerState.is_iPad_iPhone||e("./buttonVolume.js")}},{"./ask$boxInFullScreen.js":1,"./askChannelList.js":2,"./askFullScreen.js":3,"./ask_iPad_iPhone_FullScreen.js":4,"./buttonPlayPause.js":5,"./buttonQuality.js":6,"./buttonScale.js":7,"./buttonVolume.js":8,"./channelSelector.js":9,"./classList.js":10,"./fullscreenOrHideMenu.js":11,"./screenHeight.js":13}],13:[function(e,t,n){"use strict";function i(){var e=document.body.clientHeight/20;document.body.clientHeight>document.body.clientWidth?document.body.style.fontSize=.4*e+"px":document.body.style.fontSize=e+"px"}i(),window.addEventListener("resize",i)},{}]},{},[12]);